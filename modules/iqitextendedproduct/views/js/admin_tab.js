(()=>{var e={459:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}!function(){"use strict";function r(e){if(null===e||"object"!=t(e))return e;var i=e.constructor();for(var a in e)e.hasOwnProperty(a)&&(i[a]=r(e[a]));return i}function i(e){if("string"!=typeof e)return{};var t,r={},i=(e=e.split("+").join(" ")).match(/(?:[\?](?:[^=]+)=(?:[^&#]*)(?:[&](?:[^=]+)=(?:[^&#]*))*(?:[#].*)?)|(?:[#].*)/);if(null===i)return{};t=i[0].substr(1).split(/[&#=]/);for(var a=0;a<t.length;a+=2)r[decodeURIComponent(t[a])]=decodeURIComponent(t[a+1]||"");return r}function a(e){if("object"!=t(e))return"";e.params=e.params||{};var r="",i=0,a=Object.keys(e.params);if(0===a.length)return"";for(a.sort(),e.hasParams||(r+="?"+a[0]+"="+e.params[a[0]],i+=1);i<a.length;i+=1)r+="&"+a[i]+"="+e.params[a[i]];return r}function n(e){var t,r=0,i={s:1,m:60,h:3600,d:86400,w:604800};if(!e.match(/^(\d+[smhdw]?)+$/))return 0;t=(e=e.replace(/([smhdw])/g," $1 ").trim()).split(" ");for(var a=0;a<t.length;a+=2)r+=parseInt(t[a],10)*i[t[a+1]||"s"];return r}function o(){this.plugins={}}function s(){this.provider="canalplus",this.defaultFormat="embed",this.formats={embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}function p(){this.provider="coub",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}function d(){this.provider="dailymotion",this.alternatives=["dai"],this.defaultFormat="long",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}function l(){this.provider="twitch",this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video",STREAM:"stream",EMBEDVIDEO:"embed-video",CLIP:"clip"}}function c(){this.provider="vimeo",this.alternatives=["vimeopro"],this.defaultFormat="long",this.formats={long:this.createLongUrl,embed:this.createEmbedUrl},this.mediaTypes={VIDEO:"video"}}function u(){this.provider="youtube",this.alternatives=["youtu","ytimg"],this.defaultFormat="long",this.formats={short:this.createShortUrl,long:this.createLongUrl,embed:this.createEmbedUrl,shortImage:this.createShortImageUrl,longImage:this.createLongImageUrl},this.imageQualities={0:"0",1:"1",2:"2",3:"3",DEFAULT:"default",HQDEFAULT:"hqdefault",SDDEFAULT:"sddefault",MQDEFAULT:"mqdefault",MAXRESDEFAULT:"maxresdefault"},this.defaultImageQuality=this.imageQualities.HQDEFAULT,this.mediaTypes={VIDEO:"video",PLAYLIST:"playlist",SHARE:"share"}}function m(){this.provider="youku",this.defaultFormat="long",this.formats={embed:this.createEmbedUrl,long:this.createLongUrl,flash:this.createFlashUrl,static:this.createStaticUrl},this.mediaTypes={VIDEO:"video"}}o.prototype.parseProvider=function(e){var t=e.match(/(?:(?:https?:)?\/\/)?(?:[^\.]+\.)?(\w+)\./i);return t?t[1]:void 0},o.prototype.removeEmptyParameters=function(e){return e.params&&0===Object.keys(e.params).length&&delete e.params,e},o.prototype.parse=function(e){var t,r=this,a=r.parseProvider(e),n=r.plugins[a];if(a&&n&&n.parse)return(t=n.parse.apply(n,[e,i(e)]))&&((t=r.removeEmptyParameters(t)).provider=n.provider),t},o.prototype.bind=function(e){if(this.plugins[e.provider]=e,e.alternatives)for(var t=0;t<e.alternatives.length;t+=1)this.plugins[e.alternatives[t]]=e},o.prototype.create=function(e){var t=e.videoInfo,i=e.params,a=this.plugins[t.provider];if(i="internal"===i?t.params:i||{},a&&(e.format=e.format||a.defaultFormat,a.formats.hasOwnProperty(e.format)))return a.formats[e.format].apply(a,[t,r(i)])};var h=new o;s.prototype.parseParameters=function(e){return delete e.vid,e},s.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,id:t.vid};if(r.params=this.parseParameters(t),r.id)return r},s.prototype.createEmbedUrl=function(e,t){return t.vid=e.id,"http://player.canalplus.fr/embed/"+a({params:t})},h.bind(new s),p.prototype.parseUrl=function(e){var t=e.match(/(?:embed|view)\/([a-zA-Z\d]+)/i);return t?t[1]:void 0},p.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,params:t,id:this.parseUrl(e)};if(r.id)return r},p.prototype.createUrl=function(e,t,r){return e+t.id+a({params:r})},p.prototype.createLongUrl=function(e,t){return this.createUrl("https://coub.com/view/",e,t)},p.prototype.createEmbedUrl=function(e,t){return this.createUrl("//coub.com/embed/",e,t)},h.bind(new p),d.prototype.parseParameters=function(e){return this.parseTime(e)},d.prototype.parseTime=function(e){return e.start&&(e.start=n(e.start)),e},d.prototype.parseUrl=function(e){var t=e.match(/(?:\/video|ly)\/([A-Za-z0-9]+)/i);return t?t[1]:void 0},d.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,params:this.parseParameters(t),id:this.parseUrl(e)};return r.id?r:void 0},d.prototype.createUrl=function(e,t,r){return e+t.id+a({params:r})},d.prototype.createShortUrl=function(e){return this.createUrl("https://dai.ly/",e,{})},d.prototype.createLongUrl=function(e,t){return this.createUrl("https://dailymotion.com/video/",e,t)},d.prototype.createEmbedUrl=function(e,t){return this.createUrl("//www.dailymotion.com/embed/video/",e,t)},h.bind(new d),l.prototype.seperateId=function(e){return{pre:e[0],id:e.substr(1)}},l.prototype.parseChannel=function(e,t){var r=t.channel||t.utm_content||e.channel;return delete t.utm_content,delete t.channel,r},l.prototype.parseUrl=function(e,t,r){var i;if(i=e.match(/(clips\.)?twitch\.tv\/(\w+)(?:\/(?:(.)\/(\d+)|(\w+)))?/i),t.channel=i?i[2]:void 0,i&&i[3]&&i[4])t.id=i[3]+i[4];else if(r.video)t.id=r.video,delete r.video;else if(i&&i[1]&&i[5])t.id=i[5],t.isClip=!0;else if(r.clip){var a=r.clip.split("/");t.channel=a[0],t.id=a[1],t.isClip=!0,delete r.clip}return t},l.prototype.parseMediaType=function(e){var t;return e.channel?e.id&&e.isClip?(t=this.mediaTypes.CLIP,delete e.isClip):t=e.id&&!e.isClip?this.mediaTypes.VIDEO:this.mediaTypes.STREAM:e.id&&(t=this.mediaTypes.EMBEDVIDEO,delete e.channel),t},l.prototype.parseParameters=function(e){return e.t&&(e.start=n(e.t),delete e.t),e},l.prototype.parse=function(e,t){var r=this,i={};return(i=r.parseUrl(e,i,t)).channel=r.parseChannel(i,t),i.mediaType=r.parseMediaType(i),i.params=r.parseParameters(t),i.channel||i.id?i:void 0},l.prototype.createLongUrl=function(e,t){var r="";if(e.mediaType===this.mediaTypes.STREAM)r="https://twitch.tv/"+e.channel;else if(e.mediaType===this.mediaTypes.VIDEO){var i=this.seperateId(e.id);r="https://twitch.tv/"+e.channel+"/"+i.pre+"/"+i.id,t.start&&(t.t=t.start+"s",delete t.start)}else e.mediaType===this.mediaTypes.CLIP&&(r="https://clips.twitch.tv/"+e.channel+"/"+e.id);return r+a({params:t})},l.prototype.createEmbedUrl=function(e,t){var r="https://player.twitch.tv/";return e.mediaType===this.mediaTypes.STREAM?t.channel=e.channel:e.mediaType===this.mediaTypes.VIDEO||e.mediaType===this.mediaTypes.EMBEDVIDEO?(t.video=e.id,t.start&&(t.t=t.start+"s",delete t.start)):e.mediaType===this.mediaTypes.CLIP&&(r="https://clips.twitch.tv/embed",t.clip=e.channel+"/"+e.id),r+a({params:t})},h.bind(new l),c.prototype.parseUrl=function(e){var t=e.match(/(?:\/(?:channels\/[\w]+|(?:(?:album\/\d+|groups\/[\w]+)\/)?videos?))?\/(\d+)/i);return t?t[1]:void 0},c.prototype.parseParameters=function(e){return this.parseTime(e)},c.prototype.parseTime=function(e){return e.t&&(e.start=n(e.t),delete e.t),e},c.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,params:this.parseParameters(t),id:this.parseUrl(e)};return r.id?r:void 0},c.prototype.createUrl=function(e,t,r){var i=e+t.id,n=r.start;return delete r.start,i+=a({params:r}),n&&(i+="#t="+n),i},c.prototype.createLongUrl=function(e,t){return this.createUrl("https://vimeo.com/",e,t)},c.prototype.createEmbedUrl=function(e,t){return this.createUrl("//player.vimeo.com/video/",e,t)},h.bind(new c),u.prototype.parseUrl=function(e){var t=e.match(/(?:(?:v|vi|be|videos|embed)\/(?!videoseries)|(?:v|ci)=)([\w\-]{11})/i);return t?t[1]:void 0},u.prototype.parseParameters=function(e,t){return(e.start||e.t)&&(e.start=n(e.start||e.t),delete e.t),e.v===t.id&&delete e.v,e.list===t.id&&delete e.list,e},u.prototype.parseMediaType=function(e){if(e.params.list&&(e.list=e.params.list,delete e.params.list),e.id&&!e.params.ci)e.mediaType=this.mediaTypes.VIDEO;else if(e.list)delete e.id,e.mediaType=this.mediaTypes.PLAYLIST;else{if(!e.params.ci)return;delete e.params.ci,e.mediaType=this.mediaTypes.SHARE}return e},u.prototype.parse=function(e,t){var r=this,i={params:t,id:r.parseUrl(e)};return i.params=r.parseParameters(t,i),r.parseMediaType(i)},u.prototype.createShortUrl=function(e,t){var r="https://youtu.be/"+e.id;return t.start&&(r+="#t="+t.start),r},u.prototype.createLongUrl=function(e,t){var r="",i=t.start;return delete t.start,e.mediaType===this.mediaTypes.PLAYLIST?(t.feature="share",r+="https://youtube.com/playlist"):e.mediaType===this.mediaTypes.VIDEO?(t.v=e.id,r+="https://youtube.com/watch"):e.mediaType===this.mediaTypes.SHARE&&(t.ci=e.id,r+="https://www.youtube.com/shared"),e.list&&(t.list=e.list),r+=a({params:t}),e.mediaType!==this.mediaTypes.PLAYLIST&&i&&(r+="#t="+i),r},u.prototype.createEmbedUrl=function(e,t){var r="//youtube.com/embed";return e.mediaType===this.mediaTypes.PLAYLIST?t.listType="playlist":(r+="/"+e.id,"1"===t.loop&&(t.playlist=e.id)),e.list&&(t.list=e.list),r+a({params:t})},u.prototype.createImageUrl=function(e,t,r){return e+t.id+"/"+(r.imageQuality||this.defaultImageQuality)+".jpg"},u.prototype.createShortImageUrl=function(e,t){return this.createImageUrl("https://i.ytimg.com/vi/",e,t)},u.prototype.createLongImageUrl=function(e,t){return this.createImageUrl("https://img.youtube.com/vi/",e,t)},h.bind(new u),m.prototype.parseUrl=function(e){var t=e.match(/(?:(?:embed|sid)\/|v_show\/id_|VideoIDS=)([a-zA-Z0-9]+)/);return t?t[1]:void 0},m.prototype.parseParameters=function(e){return e.VideoIDS&&delete e.VideoIDS,e},m.prototype.parse=function(e,t){var r={mediaType:this.mediaTypes.VIDEO,id:this.parseUrl(e),params:this.parseParameters(t)};if(r.id)return r},m.prototype.createUrl=function(e,t,r){return e+t.id+a({params:r})},m.prototype.createEmbedUrl=function(e,t){return this.createUrl("http://player.youku.com/embed/",e,t)},m.prototype.createLongUrl=function(e,t){return this.createUrl("http://v.youku.com/v_show/id_",e,t)},m.prototype.createStaticUrl=function(e,t){return this.createUrl("http://static.youku.com/v1.0.0638/v/swf/loader.swf?VideoIDS=",e,t)},m.prototype.createFlashUrl=function(e,t){return"http://player.youku.com/player.php/sid/"+e.id+"/v.swf"+a({params:t})},h.bind(new m),"undefined"!=typeof window&&(window.urlParser=h),void 0!==e.exports&&(e.exports=h)}()},334:()=>{},379:(e,t,r)=>{"use strict";var i,a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),n=[];function o(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function s(e,t){for(var r={},i=[],a=0;a<e.length;a++){var s=e[a],p=t.base?s[0]+t.base:s[0],d=r[p]||0,l="".concat(p," ").concat(d);r[p]=d+1;var c=o(l),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==c?(n[c].references++,n[c].updater(u)):n.push({identifier:l,updater:f(u,t),references:1}),i.push(l)}return i}function p(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var n=r.nc;n&&(i.nonce=n)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var d,l=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function c(e,t,r,i){var a=r?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=l(t,a);else{var n=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(n,o[t]):e.appendChild(n)}}function u(e,t,r){var i=r.css,a=r.media,n=r.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),n&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var m=null,h=0;function f(e,t){var r,i,a;if(t.singleton){var n=h++;r=m||(m=p(t)),i=c.bind(null,r,n,!1),a=c.bind(null,r,n,!0)}else r=p(t),i=u.bind(null,r,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var r=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<r.length;i++){var a=o(r[i]);n[a].references--}for(var p=s(e,t),d=0;d<r.length;d++){var l=o(r[d]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}r=p}}}}},t={};function r(i){var a=t[i];if(void 0!==a)return a.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t,i,a=r(459),n=r.n(a),o=(e=$("#iqitvideos-list"),{init:function(){o.setInputVal(),$("#iqitthreesixty-addvideo").on("click",(function(){var t=$("#iqitthreesixty-videourl"),r=n().parse(t.val()),i=$("#iqitvideo-previewsample").children().clone();if(null==r)return $.growl.error({title:"",size:"large",message:"Something wrong with video link!"});var a=n().create({videoInfo:r,format:"embed"});i.data("video-url",r.id),i.data("video-provider",r.provider),i.find(".js-video-iframe").prop("src",a),i.find(".js-video-hosted").remove(),e.append(i),t.val(""),o.setInputVal()})),$("#iqitthreesixty-addvideo-hosted").on("click",(function(){var t=$("#iqitthreesixty-hosted-videourl"),r=t.val(),i=$("#iqitvideo-previewsample").children().clone();if(null==r||"mp4"!==r.split(".").pop())return $.growl.error({title:"",size:"large",message:"Something wrong with video link!"});i.data("video-url",r),i.data("video-provider","hosted"),i.find(".js-video-iframe").remove(),i.find(".js-video-hosted-source").prop("src",r),e.append(i),t.val(""),o.setInputVal()})),$(".js-iframe-upload-video").fancybox({width:900,height:600,type:"iframe",autoScale:!1,autoDimensions:!1,fitToView:!1,autoSize:!1,onUpdate:function(){var e=$(".fancybox-iframe").contents().find("a.link"),t=$(this.element).data("input-name");e.data("field_id",t),e.attr("data-field_id",t)},afterShow:function(){var e=$(".fancybox-iframe").contents().find("a.link"),t=$(this.element).data("input-name");e.data("field_id",t),e.attr("data-field_id",t)},afterClose:function(){var e=$("#"+$(this.element).data("input-name")),t=e.val();e.val(t.replace(iqitModulesExtenedProduct.iqitBaseUrl,"")),e.change()}}),e.on("click",".js-delete-video",(function(){$(this).parents(".iqitvideo-preview").first().remove(),o.setInputVal()})),e.sortable({items:"div.iqitvideo-preview",opacity:.9,containment:"parent",distance:32,tolerance:"pointer",cursorAt:{left:64,top:64},cancel:".disabled",start:function(t,r){e.find(".iqitvideo-preview").css("zIndex",1),r.item.css("zIndex",10)},stop:function(e,t){o.setInputVal()}})},setInputVal:function(){var e=[];$("#iqitvideos-list").find(".js-iqitvideo-preview").each((function(){e.push({p:$(this).data("video-provider"),id:$(this).data("video-url")})})),$.isEmptyObject(e)?$("#iqitextendedproduct_videos").val(""):$("#iqitextendedproduct_videos").val(JSON.stringify(e))}}),s=(i=$("#iqitthreesixty-images-dropzone"),{init:function(){s.setInputVal(),Dropzone.autoDiscover=!1;var e=$("#iqitthreesixty-images-dropzone-error");$("#iqitthreesixty-removeall").on("click",(function(){t.removeAllFiles(!0),$(i).find(".dz-image-preview").each((function(){var e=$(this).data("name");$(this).remove(),$.ajax({url:i.attr("url-delete"),data:{file:e}})})),s.setInputVal()})),$(i).on("click",".dz-remove-custom",(function(){var e=$(this).parents(".dz-preview").first();e.remove(),$.ajax({url:i.attr("url-delete"),data:{file:e.data("name")}}),s.setInputVal()}));var r={url:i.attr("url-upload"),paramName:"threesixty-file-upload",maxFilesize:i.attr("data-max-size"),addRemoveLinks:!0,thumbnailWidth:250,clickable:".threesixty-openfilemanager",thumbnailHeight:null,uploadMultiple:!1,acceptedFiles:"image/*",dictRemoveFile:"Delete",dictFileTooBig:"ToLargeFile",dictCancelUpload:"Delete",sending:function(t,r){e.html("")},queuecomplete:function(){i.sortable("enable")},processing:function(){i.sortable("disable")},success:function(t,r){if(0!==r.error)return e.append("<p>"+t.name+": "+r.error+"</p>"),void this.removeFile(t);$(t.previewElement).data("name",r.name),$(t.previewElement).addClass("ui-sortable-handle"),s.setInputVal()},removedfile:function(e){var t,r=$(e.previewElement).data("name");e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),$.ajax({url:i.attr("url-delete"),data:{file:r}}),s.setInputVal()},error:function(t,r){var i="";"undefined"!==$.type(r)&&("string"===$.type(r)?i=r:r.message&&(i=r.message),""!==i&&(e.append("<p>"+t.name+": "+i+"</p>"),this.removeFile(t)))},init:function(){i.find(".dz-preview:not(.threesixty-openfilemanager)").length?i.addClass("dz-started"):i.find(".dz-preview.threesixty-openfilemanager").hide(),i.sortable({items:"div.dz-preview:not(.disabled)",opacity:.9,containment:"parent",distance:32,tolerance:"pointer",cursorAt:{left:64,top:64},cancel:".disabled",start:function(e,t){i.find(".dz-preview").css("zIndex",1),t.item.css("zIndex",10)},stop:function(e,t){s.setInputVal()}}),i.disableSelection()}};t=new Dropzone("div#iqitthreesixty-images-dropzone",jQuery.extend(r))},setInputVal:function(){var e=[];i.find(".dz-image-preview").each((function(){e.push({n:$(this).data("name")})})),$.isEmptyObject(e)?$("#iqitextendedproduct_threesixty").val(""):$("#iqitextendedproduct_threesixty").val(JSON.stringify(e))}});$(document).ready((function(){s.init(),o.init()}));var p=r(379),d=r.n(p),l=r(334),c=r.n(l);d()(c(),{insert:"head",singleton:!1}),c().locals})()})();
//# sourceMappingURL=admin_tab.js.map